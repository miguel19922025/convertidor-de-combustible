<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Convertidor de Cm a Galones</title>
    <!-- El enlace al manifiesto de la aplicación web (PWA) ha sido eliminado para evitar errores en el entorno de previsualización -->
    <!-- <link rel="manifest" href="/manifest.json"> -->
    <!-- Carga de Tailwind CSS para estilos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilos personalizados para la fuente y el cuerpo */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Un color de fondo suave */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Asegura que ocupe toda la altura de la ventana */
            margin: 0;
            padding: 20px; /* Espaciado alrededor del contenido */
            box-sizing: border-box; /* Incluye padding en el tamaño total */
        }
        /* Estilo para el mensaje de error/resultado */
        #resultDisplay {
            min-height: 40px; /* Asegura un espacio mínimo para el mensaje */
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
    </style>
</head>
<body class="antialiased">
    <div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-md md:max-w-lg lg:max-w-xl">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-6">Convertidor de Cm a Galones</h1>

        <div class="mb-6">
            <label for="cmInput" class="block text-gray-700 text-sm font-semibold mb-2">
                Ingresa los Centímetros (Cm):
            </label>
            <input
                type="number"
                id="cmInput"
                class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                placeholder="Ej. 12.0"
                step="0.5"
                min="10.0"
                max="25.0"
            >
        </div>

        <button
            id="convertButton"
            class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition duration-300 ease-in-out transform hover:scale-105"
        >
            Convertir a Galones
        </button>

        <div id="resultDisplay" class="mt-6 p-4 text-lg font-semibold rounded-lg bg-blue-100 text-blue-800 border border-blue-200 hidden">
            <!-- Aquí se mostrará el resultado -->
        </div>

        <!-- La tabla de conversión ha sido eliminada de aquí -->
    </div>

    <script>
        // Datos de conversión obtenidos de la imagen
        // Se utiliza un Map para una búsqueda eficiente por clave numérica
        const conversionData = new Map([
            [10.0, 44.6],
            [10.5, 48.0],
            [11.0, 51.4],
            [11.5, 54.9],
            [12.0, 58.4],
            [12.5, 62.0], // Asumiendo 12.5 para el '1' en la tabla, siguiendo el patrón.
            [13.0, 65.7],
            [13.5, 69.4],
            [14.0, 73.2],
            [14.5, 77.1],
            [15.0, 81.0],
            [15.5, 85.0],
            [16.0, 89.0],
            [16.5, 93.1],
            [17.0, 97.3],
            [17.5, 101.5],
            [18.0, 105.7],
            [18.5, 110.0],
            [19.0, 114.3],
            [19.5, 118.7],
            [20.0, 123.2],
            [20.5, 127.7],
            [21.0, 132.2],
            [21.5, 136.8],
            [22.0, 141.4],
            [22.5, 146.0],
            [23.0, 150.7],
            [23.5, 155.5],
            [24.0, 160.2],
            [24.5, 165.1],
            [25.0, 169.9]
        ]);

        // Obtener referencias a los elementos del DOM
        const cmInput = document.getElementById('cmInput');
        const convertButton = document.getElementById('convertButton');
        const resultDisplay = document.getElementById('resultDisplay');
        // const conversionTableContainer = document.getElementById('conversionTableContainer'); // Ya no se necesita

        /**
         * Genera y muestra la tabla de conversión en el DOM.
         * Esta función ya no se llama, pero se mantiene el código de datos.
         */
        function generateConversionTable() {
            // Este código ya no es necesario para la visualización,
            // pero los datos 'conversionData' siguen siendo usados por 'convertCmToGlns'.
        }

        /**
         * Realiza la conversión de Centímetros a Galones.
         */
        function convertCmToGlns() {
            const cmValue = parseFloat(cmInput.value); // Obtiene el valor del input y lo convierte a número

            // Valida si el input es un número válido
            if (isNaN(cmValue)) {
                showResult('Por favor, ingresa un valor numérico válido.', 'error');
                return;
            }

            // Busca el valor en la tabla de conversión
            const glnsValue = conversionData.get(cmValue);

            if (glnsValue !== undefined) {
                // Si se encuentra una coincidencia exacta, muestra el resultado
                showResult(`Para ${cmValue.toFixed(1)} Cm, el valor es: ${glnsValue.toFixed(1)} Glns.`, 'success');
            } else {
                // Si no se encontró una coincidencia exacta
                showResult(`No se encontró un valor exacto para ${cmValue.toFixed(1)} Cm en la tabla. Por favor, ingresa uno de los valores listados.`, 'warning');
            }
        }

        /**
         * Muestra un mensaje en el área de resultados con un estilo específico.
         * @param {string} message - El mensaje a mostrar.
         * @param {'success'|'error'|'warning'} type - El tipo de mensaje para aplicar estilos.
         */
        function showResult(message, type) {
            resultDisplay.textContent = message; // Establece el texto del resultado
            resultDisplay.classList.remove('hidden', 'bg-blue-100', 'text-blue-800', 'border-blue-200', 'bg-red-100', 'text-red-800', 'border-red-200', 'bg-yellow-100', 'text-yellow-800', 'border-yellow-200');
            resultDisplay.classList.add('block'); // Muestra el elemento

            // Aplica estilos basados en el tipo de mensaje
            if (type === 'success') {
                resultDisplay.classList.add('bg-blue-100', 'text-blue-800', 'border-blue-200');
            } else if (type === 'error') {
                resultDisplay.classList.add('bg-red-100', 'text-red-800', 'border-red-200');
            } else if (type === 'warning') {
                resultDisplay.classList.add('bg-yellow-100', 'text-yellow-800', 'border-yellow-200');
            }
        }

        // Asigna el evento click al botón de conversión
        convertButton.addEventListener('click', convertCmToGlns);

        // Ya no se llama a generateConversionTable en window.onload
        // window.onload = generateConversionTable;

        // El registro del Service Worker ha sido eliminado para evitar errores en el entorno de previsualización
        /*
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/combus/service-worker.js') // Asegúrate de que la ruta sea correcta
                    .then((registration) => {
                        console.log('Service Worker registrado con éxito:', registration.scope);
                    })
                    .catch((error) => {
                        console.error('Fallo el registro del Service Worker:', error);
                    });
            });
        }
        */
    </script>
</body>
</html>
